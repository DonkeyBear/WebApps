<script setup>
import { RouterLink } from 'vue-router';

defineProps({
  show: Boolean
});

const links = [
  {
    text: '左納烏轉蛋助手',
    route: '/',
    icon: '<svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20"><path d="M358.055-317.13q34.467 0 59.162-24.545 24.696-24.544 24.696-59.011 0-34.466-24.696-59.042-24.695-24.576-59.162-24.576-34.466 0-59.011 24.544-24.544 24.544-24.544 59.011 0 34.466 24.544 59.043 24.545 24.576 59.011 24.576Zm243.89 0q34.466 0 59.011-24.545 24.544-24.544 24.544-59.011 0-34.466-24.544-59.042-24.545-24.576-59.011-24.576-34.467 0-59.162 24.544-24.696 24.544-24.696 59.011 0 34.466 24.696 59.043 24.695 24.576 59.162 24.576ZM479.968-521.435q34.467 0 59.043-24.544 24.576-24.545 24.576-59.011 0-34.467-24.544-59.162-24.545-24.696-59.011-24.696-34.467 0-59.043 24.696-24.576 24.695-24.576 59.162 0 34.466 24.544 59.011 24.545 24.544 59.011 24.544ZM480-71.869q-84.913 0-159.345-32.118t-129.491-87.177q-55.059-55.059-87.177-129.491Q71.869-395.087 71.869-480t32.118-159.345q32.118-74.432 87.177-129.491 55.059-55.059 129.491-87.177Q395.087-888.131 480-888.131t159.345 32.118q74.432 32.118 129.491 87.177 55.059 55.059 87.177 129.491Q888.131-564.913 888.131-480t-32.118 159.345q-32.118 74.432-87.177 129.491-55.059 55.059-129.491 87.177Q564.913-71.869 480-71.869Zm0-91.001q133.043 0 225.087-92.043Q797.13-346.957 797.13-480t-92.043-225.087Q613.043-797.13 480-797.13t-225.087 92.043Q162.87-613.043 162.87-480t92.043 225.087Q346.957-162.87 480-162.87ZM480-480Z"/></svg>'
  },
  {
    text: '左納烏功耗助手',
    route: '/',
    icon: '<svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20"><path d="M480-71.87q-84.913 0-159.345-32.117-74.432-32.118-129.491-87.177-55.059-55.059-87.177-129.491Q71.869-395.087 71.869-480t32.118-159.345q32.118-74.432 87.177-129.491 55.059-55.059 129.491-87.177Q395.087-888.131 480-888.131t159.345 32.118q74.432 32.118 129.491 87.177 55.059 55.059 87.177 129.491Q888.131-564.913 888.131-480t-32.118 159.345q-32.118 74.432-87.177 129.491-55.059 55.059-129.491 87.177Q564.913-71.869 480-71.869Zm0-91q133.043 0 225.087-92.043Q797.13-346.957 797.13-480t-92.043-225.087Q613.043-797.13 480-797.13t-225.087 92.043Q162.87-613.043 162.87-480t92.043 225.087Q346.957-162.87 480-162.87ZM480-480Zm-24 60v135.565q0 18.392 17.272 22.609 17.272 4.217 25.989-11.935l117.652-232.695q5.717-11.674-1-22.609Q609.196-540 596.522-540H510v-137.804q0-18.631-17.272-23.109-17.272-4.478-25.989 11.435L344.087-453.783q-5.957 12.435.38 23.109Q350.804-420 363.478-420H456Z"/></svg>'
  },
  {
    text: '關於本程式',
    route: '/about',
    icon: '<svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20"><path d="M480-276.413q18.524 0 31.056-12.531 12.531-12.532 12.531-31.056v-156.413q0-18.524-12.531-31.056Q498.524-520 480-520t-31.056 12.531q-12.531 12.532-12.531 31.056V-320q0 18.524 12.531 31.056 12.532 12.531 31.056 12.531Zm0-318.804q19.033 0 31.908-12.875T524.783-640q0-19.033-12.875-31.908T480-684.783q-19.033 0-31.908 12.875T435.217-640q0 19.033 12.875 31.908T480-595.217Zm0 523.348q-84.913 0-159.345-32.118t-129.491-87.177q-55.059-55.059-87.177-129.491Q71.869-395.087 71.869-480t32.118-159.345q32.118-74.432 87.177-129.491 55.059-55.059 129.491-87.177Q395.087-888.131 480-888.131t159.345 32.118q74.432 32.118 129.491 87.177 55.059 55.059 87.177 129.491Q888.131-564.913 888.131-480t-32.118 159.345q-32.118 74.432-87.177 129.491-55.059 55.059-129.491 87.177Q564.913-71.869 480-71.869Zm0-91.001q133.043 0 225.087-92.043Q797.13-346.957 797.13-480t-92.043-225.087Q613.043-797.13 480-797.13t-225.087 92.043Q162.87-613.043 162.87-480t92.043 225.087Q346.957-162.87 480-162.87ZM480-480Z"/></svg>'
  }
];
</script>

<template>
  <Transition name="side-menu">
    <div class="menu-container" v-show="show">
      <div class="menu-inner">
        <RouterLink class="router-link" v-for="link of links" :to="link.route" @click="$emit('close-menu')">
          <div class="menu-item">
            <span class="icon" v-html="link.icon"></span>
            <span>{{ link.text }}</span>
          </div>
        </RouterLink>
      </div>
    </div>
  </Transition>
</template>

<style scoped>
.menu-container {
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  white-space: pre;
  transition: all ease .2s;
  background-color: var(--background-color);
  position: fixed;
  z-index: 100;
  top: 0;
  left: 0;
  width: 100vw;
  min-height: 100dvh;
  padding: 2rem;
  padding-top: 4rem;
}

.menu-inner {
  padding-bottom: 3rem;
}

.menu-item {
  display: flex;
  align-items: center;
}

.icon {
  display: inline-flex;
  align-items: center;
  margin-right: var(--spacing);
}

.router-link {
  display: block;
  margin-bottom: var(--spacing);
  color: var(--h4-color);
}

.router-link-active,
.router-link-exact-active {
  text-decoration: none;
}

.side-menu-enter-from,
.side-menu-leave-to {
  left: 100vw
}
</style>
